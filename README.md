-- Комментарий по тестовому заданию --
- API построено по канонам RestFull, как указано в тз.
- Поиск (в том числе полнотекстовый) статьи происходит в методе /App/Controller/ArticleController::search (url POST /articles/search) где входными данными является объект /App/Entity/Search из (json).
- Для полнотекстового поиска добавлен полнотектовый индекс через Article. Также добавлено расширение doctrine /App/Extension/Docktrine/MatchAgainst для реализации полнотекстового поиска. 
- Изменена схема связанная с полем deleted_at - данная схема не верна логически. Любые линейные состояния объекта должны отражаться линейным статусом, разработчики (и др.) не должны трактовать состояния объекта разному. Для реализации добавлено поле status.
- В рамки данного тз тесты не входили, но добавлены самые элементарные API тесты, т.к. без тестов мы не принимаем функционал.
- В рамках данного тз не оговорена поддержка версионности (e.g. /api/v1/...), но это является неотъемлемой часть современного API, не реализовано чтобы на загромождать приложение.
- В приложении не проработаны ограничения форм, но они имеются ввиду как в нормальном проекте.
- В рамках данного тз не говорилось про swagger, но в текущем мире API не делается без swagger (или ему подобных), добавлен бандл и для примера настроен 1 метод /api/categories.
- В рамки данного тз не входил Docker, но в текущем мире Docker является неотъемлемой частью любого ПО.
- Доступ к методам API разруливается путем аннотации @IsGranted("ROLE_ADMIN"). Соответственно, только пользователям с ролью ROLE_ADMIN доступны методы создания, редактирования, удаления объектов. Всем остальным доступен только просмотр списка или объекта.
- В данном тз не оговаривалось как должна происходить авторизация, ввиду отсутствия времени на  реализацию она не была сделана, мне нравится технология JWT в микросервисной архитектуре.
- В рамках данного тз было оговорена связь статей к категориям через таблицу article_category с дополнительным полем created_at. Я не стал добавлять отдельный entity для реализации данного поля, просто предлагаю его добавить дополнительно через ALTER дабы не усложнять код в тестовом задании.
- В рамках данного тз не оговорен пагинатор, он имелся ввиду, но не реализован чтобы не усложнять код для тз

URLs
- Получить список категорий GET http://127.0.0.1/api/categories
- Получить объект категории GET http://127.0.0.1/api/categories/{ID}
- Создать категорию POST http://127.0.0.1/api/categories input json {"name": "..."}
- Удалить категорию DELETE http://127.0.0.1/api/categories/{ID}
- Получить список статей GET http://127.0.0.1/api/articles
- Получить объект статьи GET http://127.0.0.1/api/articles/{ID}
- Создать статью POST http://127.0.0.1/api/articles input json {"title": "...", "text": "...", "categories": [...]}
- Удалить статью DELETE http://127.0.0.1/api/articles/{ID}
- Получить список статей по категориям или строкой поиска POST http://127.0.0.1/api/articles/search  input json {"search": "...", "categories": [...]}



-- Установка и запуск -- 
- Вариант 1 - в локальную среду
-- git clone https://github.com/jaminas/lynxtz.git
-- прописать в файл .env настройки базы данных
-- создать миграцию командой composer install
-- создать миграцию командой php bin/console doctrine:migrations:diff
-- выполнить миграцию командой php bin/console doctrine:migrations:migrate
-- запускаем через встроенный web-сервер командой: php bin/console server:start
-- вводим в консоли curl "http://127.0.0.1:8000/api/articles" видим пустой json = все получилось, можно запустить тесты и далее использовать 

- Вариант 2. Через Docker
-- git clone https://github.com/jaminas/lynxtz.git
-- прописать в файл .env настройки базы данных (я не успел сдалать еще 1 контейнер с БД)
-- docker build -t lynxtz .
-- вводим в консоли curl "http://{docker_host}:8000/api/articles" видим пустой json = все получилось, можно запустить тесты и далее использовать 


-- Тесты --
 - php vendor/bin/codecept run api


-- Тестовое задание --
Необходимо создать RESTfull API сервис для новостного мобильного приложения. 
Данный сервис должен давать возможность показывать статьи всем не авторизованным пользователям ( с поиском по заголовку/тексту и возможной фильтрацией по определенным категориям ), а так же должен позволять управлять статьями и категориями администратору приложения
В случае необходимости Вы можете корректировать схему БД, обосновывая данное решение. Для реализации используйте фреймворк Symfony 4

Структура БД:
tbl_category ( категории )
- id ( integer )
- name ( string ( 255 ) )
- created_at ( integer - unixtimestamp )
- updated_at ( integer - unixtimestamp )
- deleted_at ( integer - unixtimestamp )

tbl_article ( статьи )
- id ( integer )
- title ( string ( 255 ) )
- text ( text )
- created_at ( integer - unixtimestamp )
- updated_at ( integer - unixtimestamp )
- deleted_at ( integer - unixtimestamp )

tbl_article_category ( статьи )
- article_id ( integer )
- category_id ( integer )
- created_at ( integer - unixtimestamp )

Неавторизованный пользователь может:
- Просматривать список статей
- Просматривать список категорий
- Фильтровать статьи по определенным категориям
- Искать статьи по тексту / названию ( использовать полнотекстовый поиск )

Администратор может:
- Добавлять / редактировать / удалять категории для статей
- Добавлять / редактировать / удалять статьи
